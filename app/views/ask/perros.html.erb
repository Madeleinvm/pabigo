<!-- Los estilos css para el html -->
<!-- incluye eliminacion del atributo del campo *lo oculta* -->


<style >


@import url('https://fonts.googleapis.com/css?family=Montserrat');

.fuente-letra{
  font-family: 'Montserrat', sans-serif;
  font-size: 20px;
  font-weight: 600;
  color: rgb(2, 0, 34);
  margin: 0;
  padding-bottom: 0;
  text-align: justify;
}

body {
  /* background-image: url("http://es.naturewallpaperfree.com/animales-perros/wallpaper-naturaleza-1440x900-2178-90c7789e.jpg") ; */
  background-repeat: no-repeat;
  background-attachment: fixed;
  background-position: center;
  /* background: antiquewhite; */
}

.logo{
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-right: 78px;

}

/* Logo mas importante de la aplicacion */
/* para visualizarlo en la pantalla iterativa usar comandos ctrl + shitf + c */

.logo-master{
  display: flex;
  justify-content: space-around;
  margin-bottom: 31px;

}


  .ejemplo{
    color: rgb(2, 0, 34);
    display: flex;
    justify-content: flex-end;

  }

/* id en vez de clases */

  #cajita{
    padding-bottom: 4px;
    margin-left: 118px;

  }

  .autor{
    display: flex;
    justify-content: flex-end;
    align-items: flex-end;
    margin-top: 16px;

  }

  .letra-comment{
    font-size: 18px;
    color: #ca2026;
    font-weight: bold;
  }

  .form-group.collection_select.required.ask_tipo
  {
    margin-right: 350px;
  }

  .paginacion{
    display: flex;
    justify-content: center;
  }


  hr{
    color: yellow;

  }

  figure{
    display: flex;
    justify-content: center;
  }

  div.sub-header{
    display: flex;
    justify-content: center;
    font-size: 40px;
    font-weight: 700;
  }
  h4{
    display: flex;
    justify-content: center;
    margin: 0;
    font-weight: 20px;
  }

  div.select{
    display: flex;
    justify-content: center;
    padding-bottom: 38px;
  }

/* PROPERTY QUE CONTROLA LA POSICION DE LA CAJA DE PREGUNTA Y SU BOTON */

  .otro-campo{
    display: flex;
    justify-content: center;
    margin-bottom: 18px;
    display: none;

  }

  .linea-pregunta{
    margin-bottom: 43px;
  }

  h4.subtitle{

    padding-bottom: 10px;


  }

  .campo-pregunta{
    display: flex;
    align-items: flex-end;
    flex-direction: column;
  }


  .boton-pregunta{
      margin-top: 0;
  }

/* ----------------------------------------------------------------------------- */


  textarea.form-control{
    width: 814px;
    height: 101px;
  }
  .button-1{
    display: flex;
    justify-content: flex-end;
    margin-right: 173px;
    color: blue;
  }


select{
      border: none;
      box-shadow: none;
      padding: 5px 8px;
      background-color: transparent;
      background-image: none;
      -webkit-appearance: none;
}


  hr{

    margin-top: 9px;
    margin-bottom: 0px;
    margin-left: 100px;
    margin-right: 100px;


  }
  h4{
    padding-bottom: 12px;
  }

  #ticket{
    /* text-align: -webkit-right; */
    font-size: small;
    color: #080c07;
    background: #d4fdc7;
    width: 317px;
  }


  div.form-group.text.required.ask_campo{
    margin-bottom: 0;
  }

/* PUBLICACION DE PREGUNTAS CON CAMPOS DE RESPUESTAS (RESPONDIDAS Y SIN RESPONDER) */

  .prueba-22{
    display: flex;
    justify-content: center;
    margin-top: 8px;
  }



  .preguntas-respuestas{
    display: flex;
    flex-direction: column;
    align-items: self-start;
  }

  .question{
    width: 663px;
    text-align: justify;
  }

  .campo-respuesta{
    width: 898px;
    border-left-width: 19px;
    margin-left: 76px;

  }

  .espaciado{}

  .colocacion{
    width: 906px;
  }

  .p-respuesta{
  text-align: justify;
  font-weight: 400;
  font-size: 18px;
  margin-bottom: 0;
}
  .botones{
    display: flex;
    flex-direction: row-reverse;
    background: rgba(0,0,0,0);
    color: #3a7999;
    margin-top: 16px;


  }

  input.destruir, input.destruir:visited{
    border: 0;
    background: #0BA9F9 url(overlay.png) repeat-x;
  }


.destruir , .destruir:visited {
  margin-left: 17px;
  margin-right: 0;
  margin-bottom: 0px;
	background: #0BA9F9 url(overlay.png) repeat-x;
	display: inline-block;
	padding: 5px 10px 6px;
	color: #fff;
	text-decoration: none;
	-moz-border-radius: 6px;
	-webkit-border-radius: 6px;
	-moz-box-shadow: 0 1px 3px rgba(13, 235, 228, 0.25);
	-webkit-box-shadow: 0 1px 3px rgba(13, 235, 228, 0.25);
	text-shadow: 0 -1px 1px rgba(13, 235, 228, 0.25);
	border-bottom: 1px solid rgba(13, 235, 228, 0.25);
	position: relative;
	cursor: pointer;
  font-weight: bold;
}

a{
  color:white;
}

a:link
{
text-decoration:none;
}

  .respuesta-dadas{

  }

  .eliminar{
  }

  abbr[title] {
    display: none !important;
    border-bottom: none !important;
    text-decoration: none !important;
    cursor: inherit !important;
  }
  label{

    display: none;
  }

/* /////////////////////////////////////////////////////////////////////////////////////////////// */

</style>

<script type="text/javascript">

</script>

<!-- //////////////////////////////////////////////////////////////////////////////////////////// -->





                                                <!-- PORTADA PRINCIPAL -->

<%= render 'portada'%>


                                              <!-- Campo para crear la pregunta -->

<%= render 'pregunta'%>



                              <!-- PREGUNTAS CON SU POSIBLES RESPUESTA (EN ESPERA O RESPONDIDA) -->

                              <!-- PREGUNTAS CON SU POSIBLES RESPUESTA (EN ESPERA O RESPONDIDA) -->
<!-- El ability es usado para que el veterinario pueda responder y no preguntar -->
<!-- Se muestra el campo pregunta y su respectiva respuesta haciendo una comparacion -->
<!-- Si el arreglo que simula la variable del index tiene tipos como campo igual a perros entonces... -->
<!-- Descartaria a los de gatos -->


                              <% @asks.reverse_each do |ask| %>
                              <% if ask.tipo == "Perros"%>
                                <div class="prueba-22">
                                <% prueba = Ask.find(ask.id) %>


                                <div class="preguntas-respuestas">
                                  <div class="question">
                                    <!-- <%= prueba.id %> -->
                                    <p class="fuente-letra" id="ticket">Ticket #<%= prueba.id%> </p>
                                    <span class="fuente-letra"><%= prueba.campo %></span>
                                    <div><%= prueba%></div>
                                  </div>
                                  <hr>
                                    <div class="colocacion">
                                      <%= simple_form_for prueba, url: ask_path(prueba) do |f| %>

                                      <% if prueba.user_id != nil  %>

                                      <% end %>


                                      <!-- Dependiendo del registro de veterinario se le asignara una foto -->
<!-- Si su Id es el uno automaticamente pasa a llamarse admin con una foto predetermina -->
<!-- Si son los veterinarios tendran diferentes fotos con su respectivo Dr en consideracion a su labor -->
<!-- Adicional a ello se usa el ability para que solo el veterinario pueda responder y no preguntar -->


                                        <% if prueba.answer != nil %>
                                        <div class="respuesta-dadas">
                                          <% if prueba.answer != 'primera vez' %>
                                            <p class="p-respuesta"><%=  prueba.answer %>  </p>
                                            <div class="autor">
                                              <% if prueba.user_id == 1 %>
                                                <span><img  src="https://image.flaticon.com/icons/svg/822/822136.svg" alt="" width="34px" height="34px"></span>
                                                <p class="p-respuesta"> <%= "Administrador" %>  </p>
                                              <% elsif prueba.user_id % 2 == 0 && prueba.user_id != 4 %>
                                                <span><img  src="https://image.flaticon.com/icons/png/512/403/403890.png" alt="" width="34px" height="34px"></span>
                                                <p class="p-respuesta">Dr. <%= prueba.doctor %>  </p>
                                              <% elsif prueba.user_id % 2 == 1 %>
                                                <span><img  src="https://image.flaticon.com/icons/png/512/1303/1303469.png" alt="" width="34px" height="34px"></span>
                                                <p class="p-respuesta">Dr. <%= prueba.doctor %>  </p>
                                              <% elsif prueba.user_id % 2 == 0 && prueba.user_id == 4%>
                                                <span><img  src="https://image.flaticon.com/icons/svg/878/878248.svg" alt="" width="34px" height="34px"></span>
                                                <p class="p-respuesta">Dr. <%= prueba.doctor %>  </p>
                                              <% end %>

                                            </div>
                                          <% end %>
                                          <div class="botones">
                                            <% if can? :update, Ask %>
                                              <% if prueba.user_id == current_user.id || prueba.answer == 'primera vez' %>
                                                <p class="destruir"><%= link_to 'Eliminar', ask_path(prueba),
                                                              method: :delete, data: { confirm: 'Are you sure?' } %></p>
                                              <% end %>
                                            <% end %>


                                            <!-- <% if prueba.user_id == 1 %> -->
                                            <!-- <% end %> -->


<!-- Se usa el ability para que solo los usuarios veterinarios registrados puedan responder -->
<!-- ademas no puedan ni eliminar ni editar ni responder otros comentarios de otros veterinarios -->
<!-- Solo el veterinario puede editar, responder o eliminar su respuesta (incluiria a la pregunta que responde) -->

                                            <% if can? :update, Ask %>
                                              <% if prueba.user_id == current_user.id %>
                                                <% if prueba.answer != 'primera vez' %>
                                                  <p class="destruir"><%= link_to 'Editar', edit_ask_path(prueba) %></p>
                                                <% end %>
                                              <% end %>
                                              <% if prueba.answer == 'primera vez' %>
                                                <p class="destruir"><%= link_to 'Responder', edit_ask_path(prueba) %></p>
                                              <% end %>
                                            <% end %>
                                          </div>
                                        </div>
                                        <hr>
                                        <% end %>
                                      <% end %>
                                    </div>
                                    <hr>
                                </div>
                                </div>
                              <% end %>


                              <% end %>
                            <div class="paginacion">

                           <%= will_paginate @asks,:previous_label => 'Anterior', :next_label => 'Siguiente', renderer: BootstrapPagination::Rails %>  </div>
